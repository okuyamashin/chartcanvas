# 001.html仕様の評価

## 概要

001.htmlのAPI仕様で、どのようなグラフが作れるか、不足している機能がないかを評価します。

## 現在の001.htmlで実現できるグラフ

### ✅ 1. 時系列データ（X軸が日付）の線グラフ

**実現可能:** `addDateChart()` + `addLine()`

```javascript
const dateChart = chart.addDateChart();
const line = dateChart.addLine({ title: '売上', color: 'red' });
line.addData('20250101', 20000);
line.addData('20250102', 21000);
```

### ✅ 2. 時系列データ（X軸が日付）の棒グラフ

**実現可能:** `addDateChart()` + `addBar()`

```javascript
const dateChart = chart.addDateChart();
const bar = dateChart.addBar({ title: '売上', color: 'blue' });
bar.addData('20250101', 20000);
bar.addData('20250102', 21000);
```

### ✅ 3. 線グラフと棒グラフの混在

**実現可能:** 同じ`DateChart`に`addLine()`と`addBar()`を混在

```javascript
const dateChart = chart.addDateChart();
const line = dateChart.addLine({ title: '売上', color: 'red' });
const bar = dateChart.addBar({ title: '訪問者数', color: 'blue' });
```

### ✅ 4. 2軸グラフ

**実現可能:** `secondAxis: true`で有効化、系列ごとに`secondAxis: true`を指定

```javascript
dateChart.secondAxis = true;
dateChart.secondAxisTitle = '売上構成比';
dateChart.secondAxisScale = '%';

const bar = dateChart.addBar({
    title: '売上構成比',
    secondAxis: true  // 副軸に割り当て
});
```

### ✅ 5. ツールチップ

**実現可能:** `addData(date, value, tooltip)`

```javascript
line.addData('20250108', 27000, "This day is holiday");
```

### ✅ 6. パーセンテージ計算

**実現可能:** `addData(date, numerator, denominator)`

```javascript
bar.addData('20250101', 20000, 500000);  // 20000 / 500000 = 4%
```

### ✅ 7. 複数の系列

**実現可能:** 複数の`addLine()`や`addBar()`を呼び出し

```javascript
const line1 = dateChart.addLine({ title: '売上A', color: 'red' });
const line2 = dateChart.addLine({ title: '売上B', color: 'blue' });
```

## 不足している機能

### ❌ 1. カテゴリ比較（X軸がカテゴリ）

**問題:** `addDateChart()`は日付専用なので、カテゴリがX軸のグラフは作成できない

**必要なAPI:**
```javascript
const categoryChart = chart.addCategoryChart();
categoryChart.xAxisTitle = '商品';
categoryChart.yAxisTitle = '売上';
const bar = categoryChart.addBar({ title: '売上', color: 'blue' });
bar.addData('商品A', 100);  // 日付ではなくカテゴリ名
bar.addData('商品B', 150);
```

### ❌ 2. ヒストグラム（分布を表す）

**問題:** 専用のAPIが必要

**必要なAPI:**
```javascript
const histogram = chart.addHistogram();
histogram.setBins([0, 10, 20, 30, 40, 50]);
histogram.setFrequencies([5, 12, 25, 30, 20]);
```

### ❌ 3. 円グラフ

**問題:** 専用のAPIが必要

**必要なAPI:**
```javascript
const pieChart = chart.addPieChart();
pieChart.setData([100, 200, 150, 80], ['商品A', '商品B', '商品C', '商品D']);
```

### ❌ 4. 横向き棒グラフ（ランキング表示）

**問題:** 専用のAPIが必要

**必要なAPI:**
```javascript
const horizontalChart = chart.addHorizontalChart();
horizontalChart.setYLabels(['新宿店', '渋谷店', '池袋店']);
const bar = horizontalChart.addBar({ title: '売上', color: 'blue' });
bar.addData('新宿店', 500);
bar.addData('渋谷店', 450);
```

### ❌ 5. 積み上げ棒グラフ

**問題:** 積み上げのオプションが必要

**必要なAPI:**
```javascript
const dateChart = chart.addDateChart();
const bar1 = dateChart.addBar({ title: '商品A', color: 'red', stacked: true });
const bar2 = dateChart.addBar({ title: '商品B', color: 'blue', stacked: true });
```

### ❌ 6. グループ化された棒グラフ

**問題:** グループ化のオプションが必要

**必要なAPI:**
```javascript
const dateChart = chart.addDateChart();
const bar1 = dateChart.addBar({ title: '商品A', color: 'red', grouped: true });
const bar2 = dateChart.addBar({ title: '商品B', color: 'blue', grouped: true });
```

### ❌ 7. 散布図

**問題:** 専用のAPIが必要

**必要なAPI:**
```javascript
const scatterChart = chart.addScatterChart();
scatterChart.addPoint(100, 200, { label: 'ポイント1' });
scatterChart.addPoint(150, 250, { label: 'ポイント2' });
```

## 評価結果

### 実現できるグラフ

001.htmlの仕様では、**時系列データ（X軸が日付）のグラフ**に特化しており、以下のグラフが作成できます：

1. ✅ 時系列データの線グラフ
2. ✅ 時系列データの棒グラフ
3. ✅ 線グラフと棒グラフの混在
4. ✅ 2軸グラフ
5. ✅ 複数の系列
6. ✅ ツールチップ
7. ✅ パーセンテージ計算

### 不足しているグラフ

以下のグラフは、001.htmlの仕様だけでは作成できません：

1. ❌ カテゴリ比較（X軸がカテゴリ）
2. ❌ ヒストグラム
3. ❌ 円グラフ
4. ❌ 横向き棒グラフ
5. ❌ 積み上げ棒グラフ
6. ❌ グループ化された棒グラフ
7. ❌ 散布図

## 推奨事項

### 1. 時系列データに特化した設計

001.htmlの仕様は、**時系列データ（X軸が日付）のグラフ**に特化した設計になっています。これは良い設計です。

### 2. 他のグラフタイプの追加

他のグラフタイプ（カテゴリ比較、ヒストグラム、円グラフなど）を追加する場合は、以下のようなAPIを追加する必要があります：

- `addCategoryChart()` - カテゴリ比較用
- `addHistogram()` - ヒストグラム用
- `addPieChart()` - 円グラフ用
- `addHorizontalChart()` - 横向き棒グラフ用
- `addScatterChart()` - 散布図用

### 3. 積み上げ・グループ化のオプション

積み上げ棒グラフやグループ化された棒グラフは、`addBar()`のオプションとして追加できます：

```javascript
const bar = dateChart.addBar({
    title: '商品A',
    color: 'red',
    stacked: true,    // 積み上げ
    grouped: true     // グループ化
});
```

## 結論

001.htmlの仕様では、**時系列データ（X軸が日付）のグラフ**は十分に作成できます。ただし、他のグラフタイプ（カテゴリ比較、ヒストグラム、円グラフなど）を追加するには、専用のAPIが必要です。

現在の仕様で実現できる範囲：
- ✅ 時系列データの線グラフ・棒グラフ
- ✅ 2軸グラフ
- ✅ 複数の系列
- ✅ ツールチップ
- ✅ パーセンテージ計算

不足している機能：
- ❌ カテゴリ比較（X軸がカテゴリ）
- ❌ ヒストグラム
- ❌ 円グラフ
- ❌ 横向き棒グラフ
- ❌ 積み上げ・グループ化された棒グラフ
- ❌ 散布図

